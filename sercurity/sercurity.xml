<?xml version="1.0" encoding="utf-8"?>

<odoo>

    <record id="group_emp_user" model="res.groups">
        <field name="name">Emp User</field>
        <field name="category_id" ref="base.module_category_human_resources_employees"/>
    </record>
    <record id="group_dl_user" model="res.groups">
        <field name="implied_ids" eval="[(4, ref('group_emp_user'))]"/>
        <field name="name">DL User</field>
        <field name="category_id" ref="base.module_category_human_resources_employees"/>
    </record>
    <record id="group_bod_user" model="res.groups">
        <field name="name">BOD User</field>
        <field name="implied_ids" eval="[(4, ref('group_bod_user'))]"/>
        <field name="category_id" ref="base.module_category_human_resources_employees"/>
    </record>

<!--  nhÃ¢n viÃªn-->
    <record id="EMPL_employee_read_rule" model="ir.rule">
            <field name="name">Employee Read Rule</field>
            <field name="model_id" ref="model_emp_pay"/>
            <field name="domain_force">['|', ('user_id','=',user.id), ('create_uid', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('group_emp_user'))]"/>
            <field eval="1" name="perm_read"></field>
            <field eval="1" name="perm_write"></field>
            <field eval="1" name="perm_unlink"></field>
            <field eval="1" name="perm_create"></field>
    </record>

    <!--  DL-->

    <record id="EMPL_DL_rule" model="ir.rule">
            <field name="name">DL Rule</field>
            <field name="model_id" ref="model_emp_pay"/>
            <field name="domain_force">[('employee_id.department_id.manager_id.user_id','=',user.id), ('state', '!=', 'draft')]</field>
            <field name="groups" eval="[(4, ref('group_dl_user'))]"/>
            <field eval="1" name="perm_read"></field>
            <field eval="1" name="perm_write"></field>
            <field eval="1" name="perm_unlink"></field>
            <field eval="0" name="perm_create"></field>
    </record>

    <!--  BOD-->
    <record id="EMPL_BOD_rule" model="ir.rule">
            <field name="name">BOD Rule</field>
            <field name="model_id" ref="model_emp_pay"/>
            <field name="domain_force">[('state','!=','draft')]</field>
            <field name="groups" eval="[(4, ref('group_bod_user'))]"/>
            <field eval="1" name="perm_read"></field>
            <field eval="1" name="perm_write"></field>
            <field eval="0" name="perm_unlink"></field>
            <field eval="1" name="perm_create"></field>
    </record>

</odoo>
