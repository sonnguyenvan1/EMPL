<?xml version="1.0" encoding="utf-8"?>

<odoo>

    <record id="employee_dcl" model="ir.module.category" >
        <field name="name">Rule User</field>
        <field name="sequence">-10</field>
        <field name="description">Helps you manage your employees.</field>
    </record>

    <record id="group_emp_user" model="res.groups">
        <field name="name">Emp User</field>
        <field name="category_id" ref="employee_dcl"/>
    </record>
    <record id="group_dl_user" model="res.groups">
        <field name="name">DL User</field>
        <field name="category_id" ref="employee_dcl"/>
    </record>
    <record id="group_bod_user" model="res.groups">
        <field name="name">BOD User</field>
        <field name="category_id" ref="employee_dcl"/>
    </record>


    <record id="EMPL.user_rule" model="ir.rule">
        <field name="name">EMPL USER</field>
        <field name="model_id" ref="model_emp_pay"/> <!-- model đc phép truy cap -->
        <field name="domain_force">[('account','=',user.id)]</field>  <!--  bo loc mien để han che quyen truy cap -->
        <field name="groups" eval="[(4, ref('group_emp_user'))]"/><!--        các quyền đc của user-->
    </record>
    <record id="EMPL.user_rule_contract" model="ir.rule">
        <field name="name">EMPL USER Contracts</field>
        <field name="model_id" ref="model_emp_contracts"/>
        <field name="domain_force">[('account','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('group_emp_user'))]"/>
    </record>
    <record id="EMPL.dl_rule" model="ir.rule">
        <field name="name">EMPL DL</field>
        <field name="model_id" ref="model_emp_contracts"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('group_dl_user'))]"/>
    </record>
    <record id="EMPL.dl_rule_pay" model="ir.rule">
        <field name="name">EMPL DL Pay</field>
        <field name="model_id" ref="model_emp_pay"/>
        <field name="domain_force">['|',('state', '=', 'dl'),('state', '=', 'bod')]</field>
        <field name="groups" eval="[(4, ref('group_dl_user'))]"/>
    </record>
    <record id="EMPL.bod_rule" model="ir.rule">
        <field name="name">EMPL BOD</field>
        <field name="model_id" ref="model_emp_contracts"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('group_bod_user'))]"/>
    </record>
     <record id="EMPL.bod_rule_pay" model="ir.rule">
        <field name="name">EMPL BOD Pay</field>
        <field name="model_id" ref="model_emp_pay"/>
        <field name="domain_force">[('state', '=', 'bod')]</field>
        <field name="groups" eval="[(4, ref('group_bod_user'))]"/>
    </record>

</odoo>
<!--Chú ý đến thuộc tính noupdate="1" Nó có nghĩa là dữ liệu này sẽ không được cập nhật trong các bản nâng cấp mô-đun.-->
<!-- Điều này sẽ cho phép nó được tùy chỉnh sau này vì nâng cấp mô-đun sẽ không phá hủy các thay đổi do người dùng thực hiện.-->
<!--Nhưng hãy lưu ý rằng điều này cũng sẽ xảy ra trong khi phát triển, vì vậy bạn có thể muốn đặt noupdate="0" trong quá trình -->
<!-- phát triển cho đến khi bạn hài lòng với tệp dữ liệu.-->